---
title: "Proposal"
author: "Zihan Xiong"
date: "2025-11-06"
output: github_document
---

### Group Members
Zihan Xiong (zx2527), Wanting Dong, Hsuanyi Lee (hl3858), Yue Hu

### Tentative Project Title
What's NYC Rats' Favorite Restaurant? Exploring the association between NYC Rat Sighting Report and Restaurant Inspections Results.

### Motivations
Urban rats üê≠üçï are remarkably adaptive and have become a persistent feature of New York City‚Äôs environment. NYC residents frequently report rodent activity in streets, subway tracks, and near restaurants, where accumulated food waste provides an ideal habitat. Although the city conducts regular restaurant inspections and extensive pest-control efforts, rodents remain a major public health concern.

This project aims to explore the 

a) **spatial** (For example: do neighborhoods such as Chinatown, the Bronx, or Harlem simultaneously exhibit high rat-sighting density and high restaurant violation rates?) and 

b) **temporal** (For example: during the summer months of 2022, when rat sightings surged, did the average restaurant inspection scores decrease?) association between two key indicators of urban sanitation:

(1) citizen-reported rat sightings from the NYC 311 system, and

(2) restaurant inspection violations from the Department of Health.

Specifically, we would like to explore whether neighborhoods with more rat sightings also tend to have more severe restaurant violations, and whether their trends fluctuate together over time. Understanding this relationship may help identify environmental or socioeconomic factors underlying poor sanitation, and inform targeted strategies for pest control and food safety monitoring in urban areas.


### Intended Final Products
1. **Spatial clustering analysis**: Identify and visualize geographic hotspots where rat sightings and restaurant sanitation violations are spatially concentrated across New York City.
2. **Temporal trend & seasonality**: Identify and visualize time series of rats sighting and restaurant sanitation violations across NYC (For example, Summer temperature and rats activities).
3. **Category-level comparisons** : Explore, compare, and visualize the association between the inspection score of different types of cuisines and the rat sighting of near-by blocks. 

### Anticipated Data Source
1. NYC 311 Rat Sightings Dataset, which mainly include incident zip code, street name, incident created date
2. NYC Restaurants Inspections Results, which mainly include zip code, street, cuisine description, inspection date, score
3. (potential) NYC geographic boundaries
4. some other datasets as project going on

### Planned Analyses/ Visualizations

**Overall**
-Generate summary statistics of rat sightings and restaurant inspection outcomes across boroughs and years.
-Visualize overall distributions using histograms, bar charts, and boxplots to highlight variation among boroughs or cuisine types.
-Examine correlations between average violation scores and rat-sighting rates.

1. **Spatial clustering analysis**: 

-Create interactive maps showing rat-sighting density and restaurant violation severity across NYC. 
-Conduct spatial clustering analysis (e.g.hotspot mapping) to identify neighborhoods where rat activity and violations are geographically concentrated. Overlay rat-sighting hotspots and restaurant violation clusters to detect co-occurrence zones.

2. **Temporal Trend Analysis**: 

-Build time-series plots of monthly or seasonal changes in rat-sighting counts and average inspection scores (plotly)
-Explore seasonal patterns (e.g., summer peaks) and potential time-lag relationships between rat activity and sanitation outcomes.

3. **Statistical Modelling** (potential?)
-Examine correlations between average violation scores and rat-sighting rates.

### Coding Challenges
We anticipate to address:
1) handling the large scale NYC 311 Rat Sightings Dataset and NYC Restaurants Inspections Results, managing missing, inconsistent and unnecessary data/variables, and implement data analysis and visualization using R. Since the dataset is large, optimizing code, suitable cleaning and tidying data, reproducibility will be key factors to overcome these challenges. 

### Planned Timeline
November 7-15: Data Collection, cleaning and preliminary exploration.
November 16-23: Conduct spatial clustering analysis, temporal trend analysis and categorical-level comparisons.
November 24-28: Finalize all analysis and start drafting the report.
November 29 - December 3: Complete the draft report and finalize all visualization parts.
December 3-6: Finalize and submit.

```{r}
library(readr)
rat=read_csv("data/rat_sighting.csv")
```

```{r}
library(p8105.datasets)
rest_inspec
max(rest_inspec$inspection_date, na.rm = TRUE)
min(rest_inspec$inspection_date, na.rm = TRUE)
```




